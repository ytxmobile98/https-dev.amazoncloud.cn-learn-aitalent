# 模块 4：运营最佳实践

## 概览

课程学习目标：

* 实施 Amazon SageMaker Data Wrangler 的以下最佳实践：
    * 更新到最新版本的 SageMaker Data Wrangler
    * 实现成本优化
    * 及早识别不良数据并予以纠正
    * 实施安全最佳实践
* 实施 Amazon SageMaker Autopilot 的以下最佳实践：
    * 实验和数据详细信息
    * 目标和特征
    * 训练方法和算法
    * 部署和高级设置
    * 分组工作

## 环境优化

### 更新到最新版本

要检查是否使用了最新版本的 Amazon SageMaker Data Wrangler，请打开现有的 SageMaker Data Wrangler 流。如果不是最新版本，Amazon SageMaker Studio UI 中会提示您更新 SageMaker Data Wrangler。

## 成本优化

在本节课中，您将学习优化成本的最佳实践。您可以通过使用内置的 SageMaker Data Wrangler 转换、选择最合适的实例类型以及从 SageMaker Studio 笔记本中选择实例，来优化成本。其他最佳实践包括处理更大更广泛的数据集以及关闭未使用的实例。

![成本优化](<./成本优化.png>)

* **使用内置的 SageMaker Data Wrangler 转换**

    在内置的 SageMaker Data Wrangler 转换可用于您的使用案例的情况下，使用这些转换。当您的使用案例无法使用内置转换时，您可以使用 PySpark、Python（用户定义函数）、Python pandas 软件库和 PySpark SQL 来添加自定义转换。
* **选择最合适的实例类型**

    SageMaker Data Wrangler 支持两个机器学习 (ML, machine learning) 实例类型系列：M5 和 R5。M5 实例是通用实例，可实现计算和内存的平衡。R5 实例更适合处理内存中的大型数据集，可以为这些数据集提供较快的性能。

    选择可以优化工作负载的实例。例如，ml.r5.8xlarge 的价格可能高于 ml.m5.4xlarge，但 ml.r5.8xlarge 可能优化程度更高，比较适合您的工作负载。借助优化程度更高的实例，您可以在更短的时间内以更低的成本运行数据流。
* **从 SageMaker Studio 笔记本中选择实例**

    要更改 SageMaker Data Wrangler 工作流的实例类型，请选择1 vCPU + 64 GB 实例配置链接。然后，系统会显示 Select instance（选择实例）窗格。
* **处理更大更广泛的数据集**

    对于大于数十 GB 的数据集，请使用内置转换，或在导入时对数据进行采样，以便用交互方式运行自定义 pandas 转换。
* **关闭未使用的实例**

    您需要为所有正在运行的实例付费。为了避免产生额外费用，请手动关闭不使用的实例。